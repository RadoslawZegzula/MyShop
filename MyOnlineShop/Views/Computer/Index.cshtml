@model MyOnlineShop.Models.ComputerViewModel
@using PagedList.Mvc
@using PagedList


@using System.Security.Policy
@using System.Web.UI.WebControls
@using PagedList.Mvc


@{
    ViewBag.Title = "View";
    Layout = "~/Views/Shared/_Layout.cshtml";
}




<div class="row">
    
  
    <div class="col-md-3">

        <p>
            <ul class="list-group">

                <li class="list-group-item d-flex justify-content-between align-items-center active">
                    Your Computer List:
                    <a href="@Url.Action("AddComputer", "Computer")" class="btn btn-success">
                        <i data-toggle="tooltip" data-placement="left" title="Add new Computer" aria-hpartIdden="true" class="fas fa-plus-square"></i>
                    </a>
                </li>
                @foreach (var computer in @Model.UserComputers)
                {
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    @Html.ActionLink(@computer.Name, "Index", new { ComputerId = @computer.Id }, new { @class = "list-group-item-action" })
                    <a href="@Url.Action("DeleteComputer", "Computer",new {deleteId=@computer.Id})" class="btn">
                        <i data-toggle="tooltip" data-placement="left" title="Delete" aria-hpartIdden="true" class="fas fa-trash-alt fa-border"></i>
                    </a>
                </li>
                }

            </ul>
        </p>

        <div class="list-group">
            <button type="button" class="list-group-item list-group-item-action active">
                @Model.ComputerM.Name
            </button>

            <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    @Html.ActionLink("Cpu Name:"+(@Model.MyComputerParts[0] is null ? "" : @Model.MyComputerParts[0].Name) , "Index", new { computerId=@Model.ComputerM.Id, ComputerPart = "Cpu" }, new { @class = "list-group-item-action" })
                    <i data-toggle="tooltip" data-placement="left" title="@Model.TextAndIconToCustomer["Ram"].Item1" aria-hpartIdden="true" class="@Model.TextAndIconToCustomer["Cpu"].Item2"></i>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    @Html.ActionLink("Gpu:" + @Model.ComputerM.CpuId.ToString(), "Index", new { computerId = @Model.ComputerM.Id, ComputerPart = "Gpu" }, new { @class = " list-group-item-action" })
                    <i data-toggle="tooltip" data-placement="left" title="@Model.TextAndIconToCustomer["Ram"].Item1" aria-hpartIdden="true" class="@Model.TextAndIconToCustomer["Gpu"].Item2"></i>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    @Html.ActionLink("Motherboard:" + @Model.ComputerM.UserId.ToString(), "Index", new { computerId = @Model.ComputerM.Id, ComputerPart = "Motherboard" }, new { @class = "list-group-item-action" })
                    <i data-toggle="tooltip" data-placement="left" title="@Model.TextAndIconToCustomer["Ram"].Item1" aria-hpartIdden="true" class="@Model.TextAndIconToCustomer["Ram"].Item2"></i>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    @Html.ActionLink("Ram:" + @Model.ComputerM.UserId.ToString(), "Index", new { computerId = @Model.ComputerM.Id, ComputerPart = "Ram" }, new { @class = "list-group-item-action" })
                    <i data-toggle="tooltip" data-placement="left" title="@Model.TextAndIconToCustomer["Ram"].Item1" aria-hpartIdden="true" class="@Model.TextAndIconToCustomer["Ram"].Item2"></i>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    @Html.ActionLink("Power Supply:" + @Model.ComputerM.UserId.ToString(), "Index", new { computerId = @Model.ComputerM.Id, ComputerPart = "PowerSupply" }, new { @class = "list-group-item-action" })
                    <i data-toggle="tooltip" data-placement="left" title="@Model.TextAndIconToCustomer["Ram"].Item1" aria-hpartIdden="true" class="@Model.TextAndIconToCustomer["Ram"].Item2"></i>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    @Html.ActionLink("UserComputers:" + @Model.ComputerM.UserId.ToString(), "Index", new { computerId = @Model.ComputerM.Id, ComputerPart = "Computer" }, new { @class = "list-group-item-action" })
                    <i data-toggle="tooltip" data-placement="left" title="@Model.TextAndIconToCustomer["Ram"].Item1" aria-hpartIdden="true" class="@Model.TextAndIconToCustomer["Ram"].Item2"></i>
                </li>
            </ul>

        </div>
    </div>

    <div class="col-md-4">
        <h2>@Model.Token List</h2>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th scope="col">partId#</th>
                    <th scope="col">img</th>
                    <th scope="col">Details</th>
                </tr>
            </thead>
            <tbody>

                @foreach (var part in @Model.ShopParts)
                {

                    <tr>
                        <th scope="row"><i data-toggle="tooltip" data-placement="left" title="H3" style="color: #ffd11a" class="list-group-item list-group-item-action fas fa-exclamation-triangle"></i></th>
                        <td><img class="rounded" src=@part.ImageUrl alt="Part Image" width="256" height="256" /></td>
                        <td>
                            <p>@part.Name</p>
                            <p>@part.Price$</p>
                        </td>
                        <td>
                            @Html.ActionLink("More Details", "Details", new { id = part.Id, token = @Model.Token }, new { @class = "btn btn-info" })
                        </td>
                        <td>@Html.ActionLink("Add to computer", "Alter", new { partId = part.Id, computerId=@Model.ComputerM.Id, partName = @Model.Token}, new { @class = "btn btn-info" })</td>
                        <td>
                            <h4>@part.Price$</h4>
                        </td>
                        <td>
                            @Html.ActionLink("Buy", "Buy", new { id = part.Id }, new { @class = "btn btn-danger" })
                        </td>
                    </tr>
                }
            </tbody>
        </table>

        @Html.PagedListPager(
            Model.ShopParts,
            page => Url.Action("Index", new { computerId = @Model.ComputerM.Id, ComputerPart = @Model.Token, page, sortOrder = ViewBag.CurrentSort, currentFilter = ViewBag.CurrentFilter}),
            new PagedListRenderOptions
            {
                FunctionToTransformEachPageLink = (liTag, aTag) =>
                {
                    aTag.Attributes.Add("class", "page-link");
                    liTag.InnerHtml = aTag.ToString();
                    return liTag;
                },
                LiElementClasses = new[] {"page-item"},
                UlElementClasses = new[] {"pagination pagination-lg"}
            }
            )

    </div>
</div>




<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<script>
    $(document).ready(function () {
        $('[data-toggle="tooltip"]').tooltip();
    });
</script>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
}
